<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Taylor — Bridge</title>
<meta name="theme-color" content="#e8d5ff" />
<style>
  :root{
    --ink:#0b0b12; --glass:#12131d; --line:#262944; --soft:#ffffff;
    --violet:#b6a3ff;   /* west/creation hint */
    --rose:#f2a9c6;     /* east/structure hint */
    --amber:#ffd27a;    /* south/emotion hint */
    --silver:#a8c7ff;   /* north/clarity hint */
  }
  html,body{height:100%;margin:0;background:
    radial-gradient(120% 120% at 18% 12%, rgba(182,163,255,.18), transparent 40%),
    radial-gradient(120% 120% at 82% 88%, rgba(242,169,198,.14), transparent 40%),
    var(--ink);color:#fff;font-family:system-ui,-apple-system,Inter,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
  .wrap{min-height:100%;display:grid;place-items:center;padding:26px}
  .card{width:min(920px,96vw);background:linear-gradient(180deg,#14162a 0%, #0f1122 100%);
        border:1px solid var(--line);border-radius:18px;box-shadow:0 18px 60px rgba(0,0,0,.45);padding:20px}
  .head{display:flex;align-items:center;justify-content:space-between;gap:10px}
  .brand{font-weight:900;letter-spacing:.2px;font-size:clamp(20px,5vw,28px);
         background:linear-gradient(90deg,var(--rose),var(--violet));-webkit-background-clip:text;background-clip:text;color:transparent}
  .links{display:flex;gap:8px;flex-wrap:wrap}
  .btn{display:inline-block;text-decoration:none;color:#0b0b12;background:#fff;border:0;border-radius:12px;
       padding:10px 14px;font-weight:800}
  .ghost{background:transparent;color:#fff;border:1px solid rgba(255,255,255,.16)}
  .sub{opacity:.9;font-size:13px;margin:8px 0 12px}

  .grid{display:grid;gap:14px}
  @media(min-width:760px){.grid{grid-template-columns:1.1fr .9fr;align-items:start}}

  .note{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);border-radius:14px;padding:14px 16px}
  .title{font-weight:800;margin-bottom:8px}
  .small{font-size:12px;opacity:.75}

  .field{display:grid;gap:8px}
  textarea,input[type="text"]{
    background:#0a0b14;border:1px solid #1f2133;color:#fff;border-radius:12px;padding:12px;font-size:14px;outline:none;width:100%;
  }
  textarea{min-height:120px;resize:vertical}
  .bar{display:flex;gap:8px;flex-wrap:wrap}
  .pill{border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.08);color:#fff;border-radius:999px;
        padding:8px 12px;font-size:12px;cursor:pointer;user-select:none}
  .pill:active{transform:scale(.98)}
  .ok{border:0;border-radius:12px;padding:12px 16px;font-weight:900;cursor:pointer;color:#0b0b12;background:#fff}
  .ghostbtn{border:1px solid rgba(255,255,255,.2);background:transparent;color:#fff;border-radius:12px;padding:12px 16px;font-weight:900}

  .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
  .tags{display:flex;gap:6px;flex-wrap:wrap}
  .tag{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.18);border-radius:999px;padding:6px 10px;font-size:12px}
  .save{font-size:12px;opacity:.8;margin-top:6px}

  .divider{height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.16),transparent);margin:10px 0}
  .compass{display:flex;gap:6px;flex-wrap:wrap}
  .chip{border:1px solid rgba(255,255,255,.18);border-radius:999px;padding:6px 10px;font-size:12px}
  .north{background:rgba(168,199,255,.12)}
  .east{background:rgba(242,169,198,.12)}
  .south{background:rgba(255,210,122,.12)}
  .west{background:rgba(182,163,255,.12)}

  .footer{display:flex;justify-content:space-between;align-items:center;gap:10px;margin-top:12px}
  .alive{position:fixed;inset:-20vmax;pointer-events:none;opacity:.25;filter:blur(60px) saturate(120%);
         background:
           radial-gradient(45% 45% at 22% 25%, rgba(182,163,255,.55), transparent 60%),
           radial-gradient(50% 50% at 74% 78%, rgba(242,169,198,.45), transparent 60%),
           radial-gradient(50% 50% at 68% 34%, rgba(255,210,122,.45), transparent 60%);
         animation:drift 18s ease-in-out infinite alternate}
  @keyframes drift{to{transform:translate3d(2%, -2%, 0) scale(1.03)}}
</style>
</head>
<body>
<div class="alive"></div>
<div class="wrap">
  <div class="card">
    <div class="head">
      <div class="brand">Taylor — Bridge</div>
      <div class="links">
        <a class="btn ghost" href="https://earth.plnt.earth/compass">Compass</a>
        <a class="btn" href="https://earth.plnt.earth/cosmic">Cosmic</a>
        <a class="btn ghost" href="https://earth.plnt.earth/time">Time Log</a>
      </div>
    </div>
    <div class="sub">From witness → myth. A small room to draft 3–5 lines that carry feeling across.</div>

    <div class="grid">
      <!-- Left: Draft -->
      <section class="note">
        <div class="title">Bridge Draft (3–5 lines)</div>
        <div class="field">
          <textarea id="draft" placeholder="Write your 3–5 lines here…"></textarea>
          <div class="bar">
            <!-- One-tap seeds -->
            <span class="pill" data-seed="I kept the rhythm while the sky changed.">Keep rhythm</span>
            <span class="pill" data-seed="I turned the hallway into a chorus.">Hallway → chorus</span>
            <span class="pill" data-seed="The myth is just a map of what stayed true.">Myth = map</span>
            <span class="pill" data-seed="We didn’t hurry—time learned our pace.">Time learned us</span>
          </div>
          <div class="row">
            <button class="ok" id="save">Save</button>
            <button class="ghostbtn" id="clear">Clear</button>
            <button class="ghostbtn" id="copy">Copy</button>
          </div>
          <div id="saved" class="save" style="display:none">Saved locally.</div>
        </div>
      </section>

      <!-- Right: Framing + Tags -->
      <section class="note">
        <div class="title">Frame the Bridge</div>
        <div class="row">
          <input id="title" type="text" placeholder="Optional title (e.g., Bridge #3 — Lanterns)" />
        </div>

        <div class="divider"></div>

        <div class="title" style="margin-bottom:6px">Compass (tone)</div>
        <div class="compass" id="compass">
          <span class="chip north" data-chip="north">North · clarity</span>
          <span class="chip east"  data-chip="east">East · structure</span>
          <span class="chip south" data-chip="south">South · emotion</span>
          <span class="chip west"  data-chip="west">West · creation</span>
        </div>

        <div class="divider"></div>

        <div class="title" style="margin-bottom:6px">Hashtags (optional)</div>
        <div class="tags" id="tags"></div>
        <div class="bar" style="margin-top:6px">
          <span class="pill" data-tag="#TaylorSwift">#TaylorSwift</span>
          <span class="pill" data-tag="#Bridge">#Bridge</span>
          <span class="pill" data-tag="#Illumina">#Illumina</span>
          <span class="pill" data-tag="#Myth">#Myth</span>
          <span class="pill" data-tag="#Rhythm">#Rhythm</span>
        </div>

        <div class="divider"></div>

        <div class="title" style="margin-bottom:6px">Bee Note (optional)</div>
        <textarea id="beenote" placeholder="One line to future-you (Bee)…"></textarea>
      </section>
    </div>

    <section class="note" style="margin-top:10px">
      <div class="title">How to use</div>
      <div class="small">
        1) Draft 3–5 true lines. 2) Pick a compass tone (or none). 3) Add 1–3 tags if you want.  
        4) Copy → paste wherever you’re posting. 5) Log how it felt in the Time page.
      </div>
    </section>

    <div class="footer">
      <div class="small">earth.plnt.earth/taylor/bridge · single-file · local save only</div>
      <a class="btn ghost" href="https://garlic.plnt.earth/">Back to Garlic</a>
    </div>
  </div>
</div>

<script>
  var KEY = "earth.taylor.bridge.v1";

  // Load / Save
  function load(){
    try{
      var j = JSON.parse(localStorage.getItem(KEY) || "{}");
      if(j.draft) document.getElementById("draft").value = j.draft;
      if(j.title) document.getElementById("title").value = j.title;
      if(j.tags) renderTags(j.tags);
      if(j.compass){ markCompass(j.compass); }
      if(j.beenote) document.getElementById("beenote").value = j.beenote;
    }catch(e){}
  }
  function save(){
    var j = {
      draft:  document.getElementById("draft").value.trim(),
      title:  document.getElementById("title").value.trim(),
      tags:   readTags(),
      compass:getCompass(),
      beenote:document.getElementById("beenote").value.trim()
    };
    try{ localStorage.setItem(KEY, JSON.stringify(j)); }catch(e){}
    var s = document.getElementById("saved"); s.style.display="block";
    setTimeout(function(){ s.style.display="none"; }, 900);
  }
  function clearAll(){
    try{ localStorage.removeItem(KEY); }catch(e){}
    document.getElementById("draft").value="";
    document.getElementById("title").value="";
    document.getElementById("tags").innerHTML="";
    unmarkCompass();
    document.getElementById("beenote").value="";
  }

  // Seeds / Tags
  document.querySelectorAll('.pill[data-seed]').forEach(el=>{
    el.addEventListener('click', function(){
      var t = document.getElementById("draft");
      var s = (t.value.trim() ? t.value.trim()+"\n" : "") + this.dataset.seed;
      t.value = s;
    }, {passive:true});
  });
  document.querySelectorAll('.pill[data-tag]').forEach(el=>{
    el.addEventListener('click', function(){
      addTag(this.dataset.tag);
    }, {passive:true});
  });

  function addTag(tag){
    var tagsEl = document.getElementById("tags");
    // prevent duplicates
    var exists=false; tagsEl.querySelectorAll('.tag').forEach(x=>{ if(x.textContent===tag) exists=true; });
    if(exists) return;
    var span = document.createElement('span');
    span.className='tag';
    span.textContent=tag;
    span.title='click to remove';
    span.addEventListener('click', function(){ this.remove(); save(); }, {passive:true});
    tagsEl.appendChild(span);
    save();
  }
  function readTags(){
    var arr=[]; document.querySelectorAll('#tags .tag').forEach(x=>arr.push(x.textContent));
    return arr;
  }
  function renderTags(arr){
    var tagsEl = document.getElementById("tags");
    tagsEl.innerHTML=""; (arr||[]).forEach(addTag);
  }

  // Compass marks
  function unmarkCompass(){ document.querySelectorAll('#compass .chip').forEach(x=>x.dataset.sel=""); }
  function markCompass(which){
    unmarkCompass();
    if(!which) return;
    var el = document.querySelector('#compass .chip[data-chip="'+which+'"]');
    if(el) el.dataset.sel="1";
  }
  function getCompass(){
    var sel = document.querySelector('#compass .chip[data-sel="1"]');
    return sel ? sel.dataset.chip : "";
  }
  document.querySelectorAll('#compass .chip').forEach(el=>{
    el.addEventListener('click', function(){
      if(this.dataset.sel==="1"){ this.dataset.sel=""; }
      else{ unmarkCompass(); this.dataset.sel="1"; }
      save();
    }, {passive:true});
  });

  // Buttons
  document.getElementById("save").addEventListener("click", save, {passive:true});
  document.getElementById("clear").addEventListener("click", clearAll, {passive:true});
  document.getElementById("copy").addEventListener("click", function(){
    var out=[];
    var title=document.getElementById("title").value.trim();
    var draft=document.getElementById("draft").value.trim();
    var compass=getCompass();
    var t=readTags();
    if(title) out.push(title);
    if(draft) out.push(draft);
    if(compass){ out.push("("+compass+")"); }
    if(t.length){ out.push(t.join(" ")); }
    var txt = out.join("\n\n");
    navigator.clipboard && navigator.clipboard.writeText(txt).then(function(){}, function(){});
  }, {passive:true});

  load();
</script>
</body>
</html>
